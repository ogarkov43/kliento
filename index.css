@tailwind base;
@tailwind components;
@tailwind utilities;

/* View Transition API для анимации смены темы */
::view-transition-old(root),
::view-transition-new(root) {
  animation: none;
  mix-blend-mode: normal;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  /* Скрытие скроллбара */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE и Edge */
}

*::-webkit-scrollbar {
  display: none;
  width: 0;
  height: 0;
  background: transparent;
}

html, body {
  height: 100%;
  width: 100%;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Скрытие скроллбара */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none; /* IE и Edge */
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', sans-serif;
  background-color: #000000;
  color: #FFFFFF;
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
  /* Ограничение ширины для десктопов - центрирование мобильного дизайна */
  max-width: 100vw;
  margin: 0;
  padding: 0;
}

/* Скрытие скроллбара для WebKit браузеров (Chrome, Safari, Opera) */
html::-webkit-scrollbar,
body::-webkit-scrollbar {
  display: none;
  width: 0;
  height: 0;
  background: transparent;
}

body {
  font-family: -apple-system, BlinkMacSystemFont, 'SF Pro Display', 'SF Pro Text', 'Helvetica Neue', sans-serif;
  background-color: #000000;
  color: #FFFFFF;
  overscroll-behavior: none;
  -webkit-overflow-scrolling: touch;
  /* Ограничение ширины для десктопов - центрирование мобильного дизайна */
  max-width: 100vw;
  margin: 0;
  padding: 0;
}

#root {
  min-height: 100vh;
  width: 100%;
  max-width: 100vw;
  margin: 0 auto;
  overflow-x: hidden;
}

/* Ограничение максимальной ширины для больших экранов */
@media (min-width: 768px) {
  body {
    display: flex;
    justify-content: center;
    align-items: center;
  }
  
  #root {
    max-width: 428px;
    width: 100%;
    height: 100vh;
    box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.1);
  }
  
  /* Центрирование шторки Stories на ПК */
  [data-tab-bar="true"] {
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%);
    max-width: 428px !important;
    width: 428px !important;
  }
}

/* Анимации для попапа */
@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}

@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes slideDown {
  from {
    transform: translateY(0);
    opacity: 1;
  }
  to {
    transform: translateY(100%);
    opacity: 0;
  }
}

@keyframes pulse {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.1);
  }
}

@keyframes badgeGentle {
  0%, 100% {
    transform: scale(1);
  }
  50% {
    transform: scale(1.05);
  }
}

@keyframes badgeAppear {
  from {
    transform: scale(0);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

/* Стиль для placeholder в поиске */
.search-input::placeholder {
  color: rgba(142, 142, 147, 0.5);
  opacity: 1;
}

/* Стиль для placeholder в AI Help */
.ai-input::placeholder {
  color: rgba(142, 142, 147, 0.6);
  opacity: 1;
}

/* Адаптация попапа для мобильных устройств */
@media (min-width: 768px) {
  .popup-overlay {
    display: flex;
    justify-content: center;
    align-items: flex-end;
  }
  
  .popup-container {
    max-width: 428px !important;
    width: 428px !important;
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%);
  }
  
  .popup-container[style*="animation"] {
    animation: slideUp 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94) !important;
  }
  
  /* Центрирование TabBar на ПК */
  [data-tab-bar="true"] {
    left: 50% !important;
    right: auto !important;
    transform: translateX(-50%);
    max-width: 428px !important;
    width: 428px !important;
  }
}

/* Анимации для вылетающих сердечек */
@keyframes heartFloat0 {
  0% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) translate(20px, -30px) scale(0.3) rotate(15deg);
    opacity: 0;
  }
}

@keyframes heartFloat1 {
  0% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) translate(-25px, -35px) scale(0.3) rotate(-20deg);
    opacity: 0;
  }
}

@keyframes heartFloat2 {
  0% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) translate(15px, -40px) scale(0.3) rotate(10deg);
    opacity: 0;
  }
}

@keyframes heartFloat3 {
  0% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) translate(-20px, -25px) scale(0.3) rotate(-15deg);
    opacity: 0;
  }
}

@keyframes heartFloat4 {
  0% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) translate(30px, -20px) scale(0.3) rotate(25deg);
    opacity: 0;
  }
}

@keyframes heartFloat5 {
  0% {
    transform: translate(-50%, -50%) scale(1) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translate(-50%, -50%) translate(-15px, -45px) scale(0.3) rotate(-10deg);
    opacity: 0;
  }
}

/* Анимации для уведомления "Добавлено в избранное" */
@keyframes notificationSlideIn {
  0% {
    transform: translateX(-50%) translateY(-20px);
    opacity: 0;
  }
  100% {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
  }
}

@keyframes notificationFadeOut {
  0% {
    transform: translateX(-50%) translateY(0);
    opacity: 1;
  }
  100% {
    transform: translateX(-50%) translateY(-10px);
    opacity: 0;
  }
}

/* Скрытие скроллбара для табов */
.tabs-scroll-container::-webkit-scrollbar {
  display: none;
}

/* Анимация "+1" для выполненных заказов */
@keyframes plusOnePulse {
  0% {
    opacity: 0;
    transform: translateY(-50%) translateY(3px) scale(0.8);
  }
  15% {
    opacity: 1;
    transform: translateY(-50%) translateY(0) scale(1.1);
  }
  30% {
    opacity: 1;
    transform: translateY(-50%) translateY(-2px) scale(1);
  }
  40% {
    opacity: 0.9;
    transform: translateY(-50%) translateY(-3px) scale(0.95);
  }
  50% {
    opacity: 0.8;
    transform: translateY(-50%) translateY(-4px) scale(0.9);
  }
  60% {
    opacity: 0.6;
    transform: translateY(-50%) translateY(-5px) scale(0.85);
  }
  70% {
    opacity: 0.4;
    transform: translateY(-50%) translateY(-6px) scale(0.8);
  }
  100% {
    opacity: 0;
    transform: translateY(-50%) translateY(-8px) scale(0.7);
  }
}

/* Анимация появления карточек снизу вверх */
@keyframes slideUpFadeIn {
  from {
    opacity: 0;
    transform: translateY(50px);
  }
  to {
    transform: translateY(0);
  }
}

/* Класс для скрытия карточек до начала анимации */
.order-card-enter {
  opacity: 0 !important;
  transform: translateY(50px) !important;
  visibility: hidden !important;
}

